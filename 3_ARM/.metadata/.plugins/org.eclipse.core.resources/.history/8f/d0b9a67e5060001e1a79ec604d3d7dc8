#include "../include/STD_Types.h"
#include "../include/BIT_MATH.h"

#include "../include/MRCC_Interface.h"

#include "../include/MNVIC_Interface.h"


#include "../include/MGPIO_Interface.h"


#include "../include/MSYSTICK_Interface.h"

#include "../include/MDMA_Interface.h"

void isr(void){
	MGPIO_SetPinValue(PORTA,PIN0,PIN_LEVEL_HIGH);
}

int main()
{
	u8 value1[4000]={0};
	u8 value2[4000];
	u16 i=0;

	for(i=0;i<4000;i++)
	{
		value1[i]=5;
		value2[i]=10;
	}

	DMA2_Init();
	DMA2_SetStreamConfiguration(DMA2_STREAM_0_SELECTED,DMA2_CHANNEL_0_SELECTED,value1,value2,8,4000);
	DMA2_SetCallBack(DMA2_STREAM_0_SELECTED,isr);
	DMA2_EnbaleStream(DMA2_STREAM_0_SELECTED);

	/* Initialize System Clock*/
	MRCC_Init();

	SYSTICK_voidInit();

	/* Initialize the clock of the GPIO A */
	MRCC_Enable_Peripheral(RCC_AHB1,RCC_AHB1_GPIOA);
	MRCC_Enable_Peripheral(RCC_AHB1,RCC_AHB1_GPIOB);

	MGPIO_SetMode(PORTA,PIN0,GENRAL_PURPOSE_OUTPUT_MODE);
	MGPIO_SetMode(PORTA,PIN1,GENRAL_PURPOSE_OUTPUT_MODE);
	MGPIO_SetMode(PORTA,PIN2,GENRAL_PURPOSE_OUTPUT_MODE);
	MGPIO_SetMode(PORTA,PIN3,GENRAL_PURPOSE_OUTPUT_MODE);
	MGPIO_SetMode(PORTA,PIN4,GENRAL_PURPOSE_OUTPUT_MODE);
	MGPIO_SetMode(PORTA,PIN5,GENRAL_PURPOSE_OUTPUT_MODE);
	MGPIO_SetMode(PORTA,PIN6,GENRAL_PURPOSE_OUTPUT_MODE);
	MGPIO_SetMode(PORTA,PIN7,GENRAL_PURPOSE_OUTPUT_MODE);

	MGPIO_SetOutputPinMode(PORTA,PIN0,OUTPUT_PUSH_PULL,OUTPUT_LOW_SPEED_TYPE);
	MGPIO_SetOutputPinMode(PORTA,PIN1,OUTPUT_PUSH_PULL,OUTPUT_LOW_SPEED_TYPE);
	MGPIO_SetOutputPinMode(PORTA,PIN2,OUTPUT_PUSH_PULL,OUTPUT_LOW_SPEED_TYPE);
	MGPIO_SetOutputPinMode(PORTA,PIN3,OUTPUT_PUSH_PULL,OUTPUT_LOW_SPEED_TYPE);
	MGPIO_SetOutputPinMode(PORTA,PIN4,OUTPUT_PUSH_PULL,OUTPUT_LOW_SPEED_TYPE);
	MGPIO_SetOutputPinMode(PORTA,PIN5,OUTPUT_PUSH_PULL,OUTPUT_LOW_SPEED_TYPE);
	MGPIO_SetOutputPinMode(PORTA,PIN6,OUTPUT_PUSH_PULL,OUTPUT_LOW_SPEED_TYPE);
	MGPIO_SetOutputPinMode(PORTA,PIN7,OUTPUT_PUSH_PULL,OUTPUT_LOW_SPEED_TYPE);

	for(i=0;i<4000;i++)
	{
		value1[i]=value2[i];

	}
	MGPIO_SetPinValue(PORTA,PIN1,PIN_LEVEL_HIGH);

	while(1){


	}
	return 0;
}
